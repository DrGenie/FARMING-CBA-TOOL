/* styles.css â€” Professional, accessible, responsive */

:root{
  --bg:#ffffff;
  --text:#1b1f23;
  --muted:#606770;
  --border:#e1e4e8;
  --accent:#1D4F91; /* World Bank style blue */
  --accent-2:#2a7f62; /* green for favourable */
  --danger:#b00020; /* red for unfavourable */
  --warn:#a15d00;
  --card:#f8fafc;
  --table-stripe:#f5f7fa;
  --sticky-shadow:0 1px 0 rgba(0,0,0,.06), 0 2px 0 rgba(0,0,0,.03);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font:16px/1.5 "Inter",system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
  color:var(--text);
  background:var(--bg);
}

.muted{color:var(--muted)}
.mono{font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace}

.app-header{
  display:flex; align-items:center; justify-content:space-between;
  padding:16px 20px; border-bottom:1px solid var(--border); background:#fff; position:sticky; top:0; z-index:40;
}
.brand{display:flex; align-items:center; gap:12px}
.brand-mark{width:32px;height:32px;border-radius:6px;background:var(--accent);box-shadow:inset 0 0 0 2px rgba(255,255,255,.6)}
.brand-text h1{font-size:18px;margin:0}
.top-nav a{
  display:inline-block; padding:10px 12px; margin:0 4px; color:#0c203e; text-decoration:none; border-radius:6px;
}
.top-nav a.active, .top-nav a:hover{background:var(--card);}

.app-main{max-width:1200px; margin:20px auto; padding:0 12px}
.tab-panel{display:none}
.tab-panel.active{display:block}
.panel{background:#fff; border:1px solid var(--border); border-radius:10px; padding:16px; margin-bottom:20px}
.panel-header{display:flex; align-items:flex-end; justify-content:space-between; gap:12px}
.panel-header h2{margin:0}
.panel-actions .controls-inline{display:flex; align-items:center; gap:8px; flex-wrap:wrap}
.panel-footer{margin-top:12px}

.card{background:var(--card); border:1px solid var(--border); border-radius:10px; padding:12px; margin-top:14px}
.card-header h3{margin:6px 0 10px}
.card-footer{margin-top:10px}

.row-1,.row-2,.row-3,.row-6{display:grid; gap:12px}
.row-1{grid-template-columns:1fr}
.row-2{grid-template-columns:1fr 1fr}
.row-3{grid-template-columns:1fr 1fr 1fr}
.row-6{grid-template-columns:repeat(6, 1fr)}
@media (max-width:960px){
  .row-2{grid-template-columns:1fr}
  .row-3{grid-template-columns:1fr}
  .row-6{grid-template-columns:1fr 1fr}
}

.field label{display:block; font-weight:600; margin-bottom:6px}
.field input[type=text], .field input[type=number], .field select, .field textarea{
  width:100%; padding:8px 10px; border:1px solid var(--border); border-radius:8px; background:#fff;
}
.field small{display:block; margin-top:4px}

.btn{
  display:inline-flex; align-items:center; gap:8px;
  padding:8px 12px; border-radius:8px; border:1px solid var(--accent); background:var(--accent); color:#fff; cursor:pointer;
}
.btn.secondary{border-color:#6b7280; background:#6b7280}
.btn.tertiary{border-color:#4b5563; background:#4b5563}
.btn.success{border-color:#2a7f62; background:#2a7f62}
.btn.small{padding:6px 10px; font-size:14px}
.btn:disabled{opacity:.4; cursor:not-allowed}

.summary-table{
  width:100%; border-collapse:separate; border-spacing:0; font-size:14px; background:#fff;
}
.summary-table th, .summary-table td{border-bottom:1px solid var(--border); padding:8px 10px; text-align:left; vertical-align:top}
.summary-table thead th{background:#f0f4f8; position:sticky; top:0; z-index:1}
.summary-table tbody tr:nth-child(odd){background:var(--table-stripe)}

.scroll-x{overflow:auto}

.leaderboard{display:grid; grid-template-columns:1fr; gap:8px}
.leader-row{
  display:grid; grid-template-columns:64px 2.2fr 1.4fr 1.4fr 2fr; gap:8px; align-items:center;
  padding:8px 10px; border:1px solid var(--border); border-radius:8px; background:#fff;
}
.leader-rank{font-weight:700}
.metric-compact{display:flex; gap:6px; flex-wrap:wrap}
.badge{display:inline-block; padding:2px 8px; border-radius:999px; font-size:12px; border:1px solid var(--border)}
.badge.pos{background:#e6f5ee; color:#10533f; border-color:#c9ebde}
.badge.neg{background:#fde7ea; color:#7a0b1e; border-color:#f8c6cf}

.comp-table-wrap{overflow:auto; border:1px solid var(--border); border-radius:10px; background:#fff;}
.comp-table{width:100%; min-width:900px; border-collapse:separate; border-spacing:0}
.comp-table th, .comp-table td{border-bottom:1px solid var(--border); padding:8px 10px; text-align:right}
.comp-table th:first-child, .comp-table td:first-child{text-align:left; position:sticky; left:0; background:#fff; box-shadow:var(--sticky-shadow)}
.comp-table thead th{position:sticky; top:0; background:#f0f4f8; text-align:center; z-index:2}
.comp-table .control-col{background:#eef3fa; font-weight:700}
.comp-table .indicator-cell{font-weight:600}
.value-pos{color:var(--accent-2)}
.value-neg{color:var(--danger)}
.value-na{color:var(--muted)}

.narrative{white-space:pre-wrap; line-height:1.6}

.toast-root{position:fixed; bottom:12px; right:12px; z-index:100}
.toast{
  background:#111827; color:#fff; padding:10px 12px; border-radius:8px; margin-top:8px; opacity:0; transform:translateY(12px);
  transition:opacity .25s ease, transform .25s ease;
}
.toast.show{opacity:1; transform:translateY(0)}

.tag-input input{width:100%}

.persist-editor table{width:100%}
.persist-editor td{padding:6px}
.persist-editor input[type=text]{width:100%}

.appendix{background:#fff; border:1px solid var(--border); border-radius:8px; padding:12px}
.appendix h3{margin:12px 0 6px}

/* footer */
.app-footer{max-width:1200px; margin:0 auto 40px; padding:0 12px}
.foot-actions{display:flex; gap:10px; margin-bottom:8px}

/* accessibility focus */
:focus-visible{outline:3px solid #93c5fd; outline-offset:2px}
